# ğŸ§ª Billing App â€” Testing Guide

This guide explains how to run full test suites, individual test files, or single test cases inside the `billing/` app using `pytest`.

---

## ğŸ“¦ Requirements

Ensure you're in your virtual environment and `pytest-django` is installed:

```bash
pip install pytest-django
Your pytest.ini should be in the backend/ folder and include:

[pytest]
DJANGO_SETTINGS_MODULE = lumen_core.settings
python_files = tests/test_*.py

ğŸ“ Directory Layout (simplified)

billing/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ cpt_mapper.py
â”‚   â”œâ”€â”€ icd_mapper.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_api_endpoints.py
â”‚   â”œâ”€â”€ test_cpt_mapper.py
â”‚   â”œâ”€â”€ test_icd_mapper.py
â”‚   â””â”€â”€ ...


ğŸš€ Run All Billing Tests
From the backend/ directory:
pytest billing

ğŸ§ª Run a Specific Test File
pytest billing/tests/test_cpt_mapper.py

ğŸ§ª Run a Single Test Function
Use :: to run a specific test:
pytest billing/tests/test_cpt_mapper.py::test_get_cpt_code_for_carotid

You can also pass -v for verbose output:
pytest billing/tests/test_api_endpoints.py::test_get_icd_map -v

ğŸ§¹ Cleanup Test Cache (optional)
If you run into weird caching issues:

pytest --cache-clear
ğŸ“‹ Best Practices
Use test_*.py filenames and test_* function names

Group related tests into logical files (e.g., test_claim_payload.py)

Document purpose of each test suite in the top docstring

